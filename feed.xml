<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://vicky-crasto.github.io/Learn-Project-Language/feed.xml" rel="self" type="application/atom+xml" /><link href="https://vicky-crasto.github.io/Learn-Project-Language/" rel="alternate" type="text/html" /><updated>2022-07-03T00:52:14-05:00</updated><id>https://vicky-crasto.github.io/Learn-Project-Language/feed.xml</id><title type="html">My experiments with NLP</title><subtitle>My learning notes for Natural Language processing</subtitle><entry><title type="html">1.5 Text Basics - Practice exercises</title><link href="https://vicky-crasto.github.io/Learn-Project-Language/pypdf2/pdf/nlp-chapter-1/2022/06/30/1-5-Python-Text-Basics-Practice.html" rel="alternate" type="text/html" title="1.5 Text Basics - Practice exercises" /><published>2022-06-30T00:00:00-05:00</published><updated>2022-06-30T00:00:00-05:00</updated><id>https://vicky-crasto.github.io/Learn-Project-Language/pypdf2/pdf/nlp-chapter-1/2022/06/30/1-5-Python-Text-Basics-Practice</id><content type="html" xml:base="https://vicky-crasto.github.io/Learn-Project-Language/pypdf2/pdf/nlp-chapter-1/2022/06/30/1-5-Python-Text-Basics-Practice.html"><![CDATA[<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-06-30-1-5-Python-Text-Basics-Practice.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="f-Strings">f-Strings<a class="anchor-link" href="#f-Strings"> </a></h2><h4 id="1.-Print-an-f-string-that-displays-NLP-stands-for-Natural-Language-Processing-using-the-variables-provided.">1. Print an f-string that displays <code>NLP stands for Natural Language Processing</code> using the variables provided.<a class="anchor-link" href="#1.-Print-an-f-string-that-displays-NLP-stands-for-Natural-Language-Processing-using-the-variables-provided."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">abbr</span> <span class="o">=</span> <span class="s1">&#39;NLP&#39;</span>
<span class="n">full_text</span> <span class="o">=</span> <span class="s1">&#39;Natural Language Processing&#39;</span>

<span class="c1">### Enter your code here:</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>NLP stands for Natural Language Processing
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Solution</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">abbr</span> <span class="o">=</span> <span class="s1">&#39;NLP&#39;</span>
<span class="n">full_text</span> <span class="o">=</span> <span class="s1">&#39;Natural Language Processing&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">abbr</span><span class="si">}</span><span class="s1"> stands for </span><span class="si">{</span><span class="n">full_text</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>NLP stands for Natural Language Processing
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Files">Files<a class="anchor-link" href="#Files"> </a></h2><h4 id="2.-Create-a-file-in-the-current-working-directory-called-contacts.txt-by-running-the-cell-below:">2. Create a file in the current working directory called <code>contacts.txt</code> by running the cell below:<a class="anchor-link" href="#2.-Create-a-file-in-the-current-working-directory-called-contacts.txt-by-running-the-cell-below:"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> contacts.txt
<span class="n">First_Name</span> <span class="n">Last_Name</span><span class="p">,</span> <span class="n">Title</span><span class="p">,</span> <span class="n">Extension</span><span class="p">,</span> <span class="n">Email</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting contacts.txt
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Solution</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> contacts.txt
<span class="n">First_Name</span> <span class="n">Last_Name</span><span class="p">,</span> <span class="n">Title</span><span class="p">,</span> <span class="n">Extension</span><span class="p">,</span> <span class="n">Email</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting contacts.txt
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="3.-Open-the-file-and-use-.read()-to-save-the-contents-of-the-file-to-a-string-called-fields.--Make-sure-the-file-is-closed-at-the-end.">3. Open the file and use .read() to save the contents of the file to a string called <code>fields</code>.  Make sure the file is closed at the end.<a class="anchor-link" href="#3.-Open-the-file-and-use-.read()-to-save-the-contents-of-the-file-to-a-string-called-fields.--Make-sure-the-file-is-closed-at-the-end."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">### Write your code here:</span>
    
<span class="c1">### Run fields to see the contents of contacts.txt:</span>
<span class="n">fields</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;First_Name Last_Name, Title, Extension, Email&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Solution</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;contacts.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">text</span><span class="p">:</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    
<span class="n">fields</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;First_Name Last_Name, Title, Extension, Email\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Working-with-PDF-Files">Working with PDF Files<a class="anchor-link" href="#Working-with-PDF-Files"> </a></h2><h4 id="4.-Use-PyPDF2-to-open-the-file-Business_Proposal.pdf.-Extract-the-text-of-page-2.">4. Use PyPDF2 to open the file <code>Business_Proposal.pdf</code>. Extract the text of page 2.<a class="anchor-link" href="#4.-Use-PyPDF2-to-open-the-file-Business_Proposal.pdf.-Extract-the-text-of-page-2."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Open the file as a binary object</span>

<span class="c1"># Use PyPDF2 to read the text of the file</span>

<span class="c1"># Get the text from page 2 (CHALLENGE: Do this in one step!)</span>
<span class="n">page_two_text</span> <span class="o">=</span> 

<span class="c1"># Close the file</span>

<span class="c1"># Print the contents of page_two_text</span>
<span class="nb">print</span><span class="p">(</span><span class="n">page_two_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>AUTHORS:
 
Amy Baker, Finance Chair, x345, abaker@ourcompany.com
 
Chris Donaldson, Accounting Dir., x621, cdonaldson@ourcompany.com
 
Erin Freeman, Sr. VP, x879, efreeman@ourcompany.com
 

</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Solution</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">PyPDF2</span>

<span class="c1"># Open the file as a binary object</span>
<span class="n">pdf1</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_files/Business_Proposal.pdf&quot;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>

<span class="c1"># Use PyPDF2 to read the text of the file</span>
<span class="n">pdf_reader</span> <span class="o">=</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfFileReader</span><span class="p">(</span><span class="n">pdf1</span><span class="p">)</span>

<span class="c1"># Get the text from page 2 (CHALLENGE: Do this in one step!)</span>
<span class="n">page_two_text</span> <span class="o">=</span> <span class="n">pdf_reader</span><span class="o">.</span><span class="n">getPage</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">extractText</span><span class="p">()</span>

<span class="c1"># Close the file</span>
<span class="n">pdf1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Print the contents of page_two_text</span>
<span class="nb">print</span><span class="p">(</span><span class="n">page_two_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>AUTHORS:
 

Amy Baker, Finance Chair, x345, abaker@ourcompany.com
  

Chris Donaldson, Accounting Dir., x621, cdonaldson@ourcompany.com
  

Erin Freeman, Sr. VP, x879, efreeman@ourcompany.com
  
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^(AUTHORS:)]&#39;</span><span class="p">,</span> <span class="n">page_two_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;\n&#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39;\n&#39;,
 &#39;m&#39;,
 &#39;y&#39;,
 &#39; &#39;,
 &#39;B&#39;,
 &#39;a&#39;,
 &#39;k&#39;,
 &#39;e&#39;,
 &#39;r&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;F&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;c&#39;,
 &#39;e&#39;,
 &#39; &#39;,
 &#39;C&#39;,
 &#39;h&#39;,
 &#39;a&#39;,
 &#39;i&#39;,
 &#39;r&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;x&#39;,
 &#39;3&#39;,
 &#39;4&#39;,
 &#39;5&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;a&#39;,
 &#39;b&#39;,
 &#39;a&#39;,
 &#39;k&#39;,
 &#39;e&#39;,
 &#39;r&#39;,
 &#39;@&#39;,
 &#39;o&#39;,
 &#39;u&#39;,
 &#39;r&#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;p&#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;y&#39;,
 &#39;.&#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39;\n&#39;,
 &#39;C&#39;,
 &#39;h&#39;,
 &#39;r&#39;,
 &#39;i&#39;,
 &#39;s&#39;,
 &#39; &#39;,
 &#39;D&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;a&#39;,
 &#39;l&#39;,
 &#39;d&#39;,
 &#39;s&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;c&#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;u&#39;,
 &#39;n&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39; &#39;,
 &#39;D&#39;,
 &#39;i&#39;,
 &#39;r&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;x&#39;,
 &#39;6&#39;,
 &#39;2&#39;,
 &#39;1&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;c&#39;,
 &#39;d&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;a&#39;,
 &#39;l&#39;,
 &#39;d&#39;,
 &#39;s&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;@&#39;,
 &#39;o&#39;,
 &#39;u&#39;,
 &#39;r&#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;p&#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;y&#39;,
 &#39;.&#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39;\n&#39;,
 &#39;E&#39;,
 &#39;r&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39; &#39;,
 &#39;F&#39;,
 &#39;r&#39;,
 &#39;e&#39;,
 &#39;e&#39;,
 &#39;m&#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;r&#39;,
 &#39;.&#39;,
 &#39; &#39;,
 &#39;V&#39;,
 &#39;P&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;x&#39;,
 &#39;8&#39;,
 &#39;7&#39;,
 &#39;9&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;e&#39;,
 &#39;f&#39;,
 &#39;r&#39;,
 &#39;e&#39;,
 &#39;e&#39;,
 &#39;m&#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;@&#39;,
 &#39;o&#39;,
 &#39;u&#39;,
 &#39;r&#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;p&#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;y&#39;,
 &#39;.&#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="5.-Open-the-file-contacts.txt-in-append-mode.-Add-the-text-of-page-2-from-above-to-contacts.txt.">5. Open the file <code>contacts.txt</code> in append mode. Add the text of page 2 from above to <code>contacts.txt</code>.<a class="anchor-link" href="#5.-Open-the-file-contacts.txt-in-append-mode.-Add-the-text-of-page-2-from-above-to-contacts.txt."> </a></h4><h4 id="CHALLENGE:-See-if-you-can-remove-the-word-&quot;AUTHORS:&quot;">CHALLENGE: See if you can remove the word "AUTHORS:"<a class="anchor-link" href="#CHALLENGE:-See-if-you-can-remove-the-word-&quot;AUTHORS:&quot;"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>First_Name Last_Name, Title, Extension, EmailAUTHORS:
 
Amy Baker, Finance Chair, x345, abaker@ourcompany.com
 
Chris Donaldson, Accounting Dir., x621, cdonaldson@ourcompany.com
 
Erin Freeman, Sr. VP, x879, efreeman@ourcompany.com
 

</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">**</span><span class="n">Simple</span> <span class="n">Solution</span><span class="o">**</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contacts.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;a+&#39;</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>First_Name Last_Name, Title, Extension, Email

</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">page_two_text</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>First_Name Last_Name, Title, Extension, Email
AUTHORS:
 

Amy Baker, Finance Chair, x345, abaker@ourcompany.com
  

Chris Donaldson, Accounting Dir., x621, cdonaldson@ourcompany.com
  

Erin Freeman, Sr. VP, x879, efreeman@ourcompany.com
  
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>First_Name Last_Name, Title, Extension, Email
 
Amy Baker, Finance Chair, x345, abaker@ourcompany.com
 
Chris Donaldson, Accounting Dir., x621, cdonaldson@ourcompany.com
 
Erin Freeman, Sr. VP, x879, efreeman@ourcompany.com
 

</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contacts.txt&#39;</span><span class="p">,</span><span class="s1">&#39;a+&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span>
    <span class="n">c</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">page_two_text</span><span class="p">[</span><span class="mi">8</span><span class="p">:])</span>
    <span class="n">c</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>First_Name Last_Name, Title, Extension, Email
AUTHORS:
 

Amy Baker, Finance Chair, x345, abaker@ourcompany.com
  

Chris Donaldson, Accounting Dir., x621, cdonaldson@ourcompany.com
  

Erin Freeman, Sr. VP, x879, efreeman@ourcompany.com
  
 

Amy Baker, Finance Chair, x345, abaker@ourcompany.com
  

Chris Donaldson, Accounting Dir., x621, cdonaldson@ourcompany.com
  

Erin Freeman, Sr. VP, x879, efreeman@ourcompany.com
  
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Regular-Expressions">Regular Expressions<a class="anchor-link" href="#Regular-Expressions"> </a></h2><h4 id="6.-Using-the-page_two_text-variable-created-above,-extract-any-email-addresses-that-were-contained-in-the-file-Business_Proposal.pdf.">6. Using the <code>page_two_text</code> variable created above, extract any email addresses that were contained in the file <code>Business_Proposal.pdf</code>.<a class="anchor-link" href="#6.-Using-the-page_two_text-variable-created-above,-extract-any-email-addresses-that-were-contained-in-the-file-Business_Proposal.pdf."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># Enter your regex pattern here. This may take several tries!</span>
<span class="n">pattern</span> <span class="o">=</span> 

<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">page_two_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;abaker@ourcompany.com&#39;,
 &#39;cdonaldson@ourcompany.com&#39;,
 &#39;efreeman@ourcompany.com&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Solution</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\w+@\w+.com&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">page_two_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;abaker@ourcompany.com&#39;,
 &#39;cdonaldson@ourcompany.com&#39;,
 &#39;efreeman@ourcompany.com&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

</div>]]></content><author><name></name></author><category term="PyPDF2" /><category term="pdf" /><category term="NLP-Chapter-1" /><summary type="html"><![CDATA[The post contains additional practice exercises on the topics learnt in chapter 1]]></summary></entry><entry><title type="html">1.4 Regular Expression</title><link href="https://vicky-crasto.github.io/Learn-Project-Language/regular-expression/re/text-cleaning/re.findall/exclusion/nlp-chapter-1/2022/06/30/1-4-Regular-Expressions.html" rel="alternate" type="text/html" title="1.4 Regular Expression" /><published>2022-06-30T00:00:00-05:00</published><updated>2022-06-30T00:00:00-05:00</updated><id>https://vicky-crasto.github.io/Learn-Project-Language/regular-expression/re/text-cleaning/re.findall/exclusion/nlp-chapter-1/2022/06/30/1-4-Regular-Expressions</id><content type="html" xml:base="https://vicky-crasto.github.io/Learn-Project-Language/regular-expression/re/text-cleaning/re.findall/exclusion/nlp-chapter-1/2022/06/30/1-4-Regular-Expressions.html"><![CDATA[<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-06-30-1-4-Regular-Expressions.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Regular-exp.-library">Regular exp. library<a class="anchor-link" href="#Regular-exp.-library"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Finding-the-first-instance-in-the-text">Finding the first instance in the text<a class="anchor-link" href="#Finding-the-first-instance-in-the-text"> </a></h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The phone number given in the helpline is 408-999-4567&quot;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;phone&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;re.Match object; span=(4, 9), match=&#39;phone&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If the match is found then search return the location of the match. Note: It only gives the first instance in the text.</p>
<p>Span is the starting and ending index of the match. (Index starts from zero)</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">match</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="n">match</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;re.Match object; span=(4, 9), match=&#39;phone&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>.span() give the span of the match, .start() give the start index, .end() gives the end index</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">match</span><span class="o">.</span><span class="n">span</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(4, 9)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>4</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>9</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Find-all-instances-in-the-text">Find all instances in the text<a class="anchor-link" href="#Find-all-instances-in-the-text"> </a></h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text1</span> <span class="o">=</span> <span class="s2">&quot;My phone is a hi-tech phone. The phone is dual band, with the lastest phone-tech processor&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;phone&quot;</span><span class="p">,</span> <span class="n">text1</span><span class="p">)</span>
<span class="n">matches</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;phone&#39;, &#39;phone&#39;, &#39;phone&#39;, &#39;phone&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>4</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">,</span> <span class="n">text1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">span</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(3, 8)
(22, 27)
(33, 38)
(70, 75)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>To find the word matched, use .group() method</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;phone&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Identifiers-in-Regex">Identifiers in Regex<a class="anchor-link" href="#Identifiers-in-Regex"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><table><tr><th>Character</th><th>Description</th><th>Example Pattern Code</th><th>Exammple Match</th></tr>&lt;/p&gt;
<p><tr><td><span>\d</span></td><td>A digit</td><td>file_\d\d</td><td>file_25</td></tr></p>
<p><tr><td><span>\w</span></td><td>Alphanumeric</td><td>\w-\w\w\w</td><td>A-b_1</td></tr></p>
<p><tr><td><span>\s</span></td><td>White space</td><td>a\sb\sc</td><td>a b c</td></tr></p>
<p><tr><td><span>\D</span></td><td>A non digit</td><td>\D\D\D</td><td>ABC</td></tr></p>
<p><tr><td><span>\W</span></td><td>Non-alphanumeric</td><td>\W\W\W\W\W</td><td>*-+=)</td></tr></p>
<p><tr><td><span>\S</span></td><td>Non-whitespace</td><td>\S\S\S\S</td><td>Yoyo</td></tr>&lt;/table&gt;</p>

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;The phone number given in the helpline is 408-999-4567&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we want to find phone number with the pattern xxx-xxx-xxxx, we can use the identifier for it.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d\d\d-\d\d\d-\d\d\d\d&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;408-999-4567&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Quantifiers-in-Regex">Quantifiers in Regex<a class="anchor-link" href="#Quantifiers-in-Regex"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In repeating the identifier, we can use quantifiers to do the same thing.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><table><tr><th>Character</th><th>Description</th><th>Example Pattern Code</th><th>Exammple Match</th></tr>&lt;/p&gt;
<p><tr><td><span>+</span></td><td>Occurs one or more times</td><td>  Version \w-\w+</td><td>Version A-b1_1</td></tr></p>
<p><tr><td><span>{3}</span></td><td>Occurs exactly 3 times</td><td>\D{3}</td><td>abc</td></tr></p>
<p><tr><td><span>{2,4}</span></td><td>Occurs 2 to 4 times</td><td>\d{2,4}</td><td>123</td></tr></p>
<p><tr><td><span>{3,}</span></td><td>Occurs 3 or more</td><td>\w{3,}</td><td>anycharacters</td></tr></p>
<p><tr><td><span>\*</span></td><td>Occurs zero or more times</td><td>A\*B\*C*</td><td>AAACC</td></tr></p>
<p><tr><td><span>?</span></td><td>Once or none</td><td>plurals?</td><td>plural</td></tr>&lt;/table&gt;</p>

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d</span><span class="si">{3}</span><span class="s1">-\d</span><span class="si">{3}</span><span class="s1">-\d</span><span class="si">{4}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;408-999-4567&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Groups-in-Regex-search">Groups in Regex search<a class="anchor-link" href="#Groups-in-Regex-search"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using parentheses in regex we can create groups with the matched data</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">phone_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d</span><span class="si">{3}</span><span class="s1">)-(\d</span><span class="si">{3}</span><span class="s1">)-(\d</span><span class="si">{4}</span><span class="s1">)&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">phone_pattern</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;408-999-4567&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Each parentheses in the regex pattern is group which can called out.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;408&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;999&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;4567&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Or-operator-|">Or operator |<a class="anchor-link" href="#Or-operator-|"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;man|woman&quot;</span><span class="p">,</span> <span class="s2">&quot;This man is a good person&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;re.Match object; span=(5, 8), match=&#39;man&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;man|woman&quot;</span><span class="p">,</span> <span class="s2">&quot;This woman is a good person&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;re.Match object; span=(5, 10), match=&#39;woman&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Wildcard-characters">Wildcard characters<a class="anchor-link" href="#Wildcard-characters"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.at&quot;</span><span class="p">,</span> <span class="s2">&quot;The fat cat ate the peta bread and sat on the rattop and splat&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;fat&#39;, &#39;cat&#39;, &#39; at&#39;, &#39;sat&#39;, &#39;rat&#39;, &#39;lat&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We see that all 3 letter word being matched. One single period matches on wildcard letter before the pattern.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;..at&quot;</span><span class="p">,</span> <span class="s2">&quot;The fat cat ate the peta bread and sat on the rattop and splat&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39; fat&#39;, &#39; cat&#39;, &#39; sat&#39;, &#39; rat&#39;, &#39;plat&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\S+at&quot;</span><span class="p">,</span> <span class="s2">&quot;The fat cat ate the peta bread and sat on the rattop and splat&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;fat&#39;, &#39;cat&#39;, &#39;sat&#39;, &#39;rat&#39;, &#39;splat&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In case one or more non whitespace that end with 'at' are matched.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Starts-with-and-ends-with">Starts with and ends with<a class="anchor-link" href="#Starts-with-and-ends-with"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>^ : Starts with , $ : ends with</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d$&#39;</span><span class="p">,</span> <span class="s2">&quot;This ends with a number 2&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;2&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\d&#39;</span><span class="p">,</span> <span class="s2">&quot;5 is the number of choice&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;5&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Exclusion">Exclusion<a class="anchor-link" href="#Exclusion"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Square brackerts[^] are used for exclude a character.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">phrase</span> <span class="o">=</span> <span class="s2">&quot;there are 3 numbers 34 insides 5 this sentence.&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^\d]+&#39;</span><span class="p">,</span> <span class="n">phrase</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;there are &#39;, &#39; numbers &#39;, &#39; insides &#39;, &#39; this sentence.&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Removing-the-punctuation">Removing the punctuation<a class="anchor-link" href="#Removing-the-punctuation"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_phrase</span> <span class="o">=</span> <span class="s1">&#39;This is a string! But it has punctuation. How can we remove it?&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_phrase</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;This is a string! But it has punctuation. How can we remove it?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^!.? ]+&#39;</span><span class="p">,</span> <span class="n">test_phrase</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;This&#39;,
 &#39;is&#39;,
 &#39;a&#39;,
 &#39;string&#39;,
 &#39;But&#39;,
 &#39;it&#39;,
 &#39;has&#39;,
 &#39;punctuation&#39;,
 &#39;How&#39;,
 &#39;can&#39;,
 &#39;we&#39;,
 &#39;remove&#39;,
 &#39;it&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Putting it together</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">clean</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^!.? ]+&#39;</span><span class="p">,</span> <span class="n">test_phrase</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">clean</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;This is a string But it has punctuation How can we remove it&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text3</span> <span class="o">=</span> <span class="s1">&#39;Only find the hypen-words in this sentence. But you do not know how long-ish they are&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text3</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Only find the hypen-words in this sentence. But you do not know how long-ish they are&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\w]+-[\w+&#39;</span><span class="p">,</span><span class="n">text3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;hypen-words&#39;, &#39;long-ish&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Note</strong> Difference between [], ()</p>
<p>The [] construct in a regex is essentially shorthand for an | on all of the contents. For example [abc] matches a, b or c. Additionally the - character has special meaning inside of a []. It provides a range construct. The regex [a-z] will match any letter a through z.</p>
<p>The () construct is a grouping construct establishing a precedence order (it also has impact on accessing matched substrings but that's a bit more of an advanced topic). The regex (abc) will match the string "abc".</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;Hello, would you like some catfish?&#39;</span>
<span class="n">texttwo</span> <span class="o">=</span> <span class="s2">&quot;Hello, would you like to take a catnap?&quot;</span>
<span class="n">textthree</span> <span class="o">=</span> <span class="s2">&quot;Hello, have you seen this caterpillar?&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;cat(fish|nap|claw)&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;catfish&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;cat(fish|nap|claw)&#39;</span><span class="p">,</span><span class="n">texttwo</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;catnap&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;cat(fish|nap|claw)&#39;</span><span class="p">,</span><span class="n">textthree</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

&lt;/div&gt;
 

</table></p></div></div></div></table></p></div></div></div></div>]]></content><author><name></name></author><category term="regular-expression" /><category term="re" /><category term="text-cleaning" /><category term="re.findall" /><category term="exclusion" /><category term="NLP-Chapter-1" /><summary type="html"><![CDATA[The post explains how to use regular expression to find and modify text.]]></summary></entry><entry><title type="html">1.3 Working with pdf files</title><link href="https://vicky-crasto.github.io/Learn-Project-Language/pypdf2/pdf/nlp-chapter-1/2022/06/29/1-3-Working-with-pdf-files.html" rel="alternate" type="text/html" title="1.3 Working with pdf files" /><published>2022-06-29T00:00:00-05:00</published><updated>2022-06-29T00:00:00-05:00</updated><id>https://vicky-crasto.github.io/Learn-Project-Language/pypdf2/pdf/nlp-chapter-1/2022/06/29/1-3-Working-with-pdf-files</id><content type="html" xml:base="https://vicky-crasto.github.io/Learn-Project-Language/pypdf2/pdf/nlp-chapter-1/2022/06/29/1-3-Working-with-pdf-files.html"><![CDATA[<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-06-29-1-3-Working-with-pdf-files.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Installing-the-library-PyPDF2">Installing the library PyPDF2<a class="anchor-link" href="#Installing-the-library-PyPDF2"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">PyPDF2</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Collecting PyPDF2
  Downloading PyPDF2-2.4.0-py3-none-any.whl (197 kB)
Requirement already satisfied: typing-extensions in c:\users\vicky.crasto\anaconda3\lib\site-packages (from PyPDF2) (3.10.0.2)
Installing collected packages: PyPDF2
Successfully installed PyPDF2-2.4.0
Note: you may need to restart the kernel to use updated packages.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">PyPDF2</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Working-with-PyPDF2">Working with PyPDF2<a class="anchor-link" href="#Working-with-PyPDF2"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Reading-a-pdf">Reading a pdf<a class="anchor-link" href="#Reading-a-pdf"> </a></h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf1</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_files/US_Declaration.pdf&quot;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note : the mode is 'rb' - read the file as a binary</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Creating a pdf reader instance</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf_reader</span> <span class="o">=</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfFileReader</span><span class="p">(</span><span class="n">pdf1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Number of pages in the pdf</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf_reader</span><span class="o">.</span><span class="n">numPages</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>5</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Extracting-text-from-a-page">Extracting text from a page<a class="anchor-link" href="#Extracting-text-from-a-page"> </a></h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">page_one</span> <span class="o">=</span> <span class="n">pdf_reader</span><span class="o">.</span><span class="n">getPage</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">page_one_text</span> <span class="o">=</span> <span class="n">page_one</span><span class="o">.</span><span class="n">extractText</span><span class="p">()</span>
<span class="n">page_one_text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#34; Declaration of Independence\nIN CONGRESS, July 4, 1776.  \nThe unanimous Declaration of the thirteen united States of America, \nWhen in the Course of human events, it becomes necessary for one people to dissolve the\npolitical bands which have connected them with another, and to assume among the powers of the\nearth, the separate and equal station to which the Laws of Nature and of Nature&#39;s God entitle\nthem, a decent respect to the opinions of mankind requires that they should declare the causes\nwhich impel them to the separation. \nWe hold these truths to be self-evident, that all men are created equal, that they are endowed by\ntheir Creator with certain unalienable Rights, that among these are Life, Liberty and the pursuit\nof Happiness. \x14That to secure these rights, Governments are instituted among Men, deriving\ntheir just powers from the consent of the governed,  \x14That whenever any Form of Government\nbecomes destructive of these ends, it is the Right of the People to alter or to abolish it, and to\ninstitute new Government, laying its foundation on such principles and organizing its powers in\nsuch form, as to them shall seem most likely to effect their Safety and Happiness. Prudence,\nindeed, will dictate that Governments long established should not be changed for light and\ntransient causes; and accordingly all experience hath shewn, that mankind are more disposed to\nsuffer, while evils are sufferable, than to right themselves by abolishing the forms to which they\nare accustomed. But when a long train of abuses and usurpations, pursuing invariably the same\nObject evinces a design to reduce them under absolute Despotism, it is their right, it is their duty,\nto throw off such Government, and to provide new Guards for their future security. \x14Such has\nbeen the patient sufferance of these Colonies; and such is now the necessity which constrains\nthem to alter their former Systems of Government. The history of the present King of Great\nBritain is a history of repeated injuries and usurpations, all having in direct object the\nestablishment of an absolute Tyranny over these States. To prove this, let Facts be submitted to a\ncandid world. \nHe has refused his Assent to Laws, the most wholesome and necessary for the\npublic good.\nHe has forbidden his Governors to pass Laws of immediate and pressing\nimportance, unless suspended in their operation till his Assent should be obtained;\nand when so suspended, he has utterly neglected to attend to them.\nHe has refused to pass other Laws for the accommodation of large districts of\npeople, unless those people would relinquish the right of Representation in the\nLegislature, a right inestimable to them and formidable to tyrants only. \nHe has called together legislative bodies at places unusual, uncomfortable, and distant\nfrom the depository of their public Records, for the sole purpose of fatiguing them into\ncompliance with his measures.&#34;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Adding-pages-to-pdf-file">Adding pages to pdf file<a class="anchor-link" href="#Adding-pages-to-pdf-file"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Open the pdf and extracting the first page</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf2</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_files/US_Declaration.pdf&quot;</span><span class="p">,</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">pdf_reader</span> <span class="o">=</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfFileReader</span><span class="p">(</span><span class="n">pdf2</span><span class="p">)</span>
<span class="n">first_page</span> <span class="o">=</span> <span class="n">pdf_reader</span><span class="o">.</span><span class="n">getPage</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Creating a writer object</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf_writer</span> <span class="o">=</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfFileWriter</span><span class="p">()</span>
<span class="n">pdf_writer</span><span class="o">.</span><span class="n">addPage</span><span class="p">(</span><span class="n">first_page</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf_output</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;New_doc.pdf&quot;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf_writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">pdf_output</span><span class="p">)</span>
<span class="n">pdf_output</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">pdf2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Checking the new doc which is created</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf3</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;New_doc.pdf&quot;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">pdf_reader</span> <span class="o">=</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfFileReader</span><span class="p">(</span><span class="n">pdf3</span><span class="p">)</span>
<span class="n">pdf_reader</span><span class="o">.</span><span class="n">numPages</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdf3</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

</div>]]></content><author><name></name></author><category term="PyPDF2" /><category term="pdf" /><category term="NLP-Chapter-1" /><summary type="html"><![CDATA[The post explains how to read,edit and append pdf files in python]]></summary></entry><entry><title type="html">1.2 Working with text files</title><link href="https://vicky-crasto.github.io/Learn-Project-Language/readlines()/textfiles/nlp-chapter-1/2022/06/28/1-2-Working-with-text-files.html" rel="alternate" type="text/html" title="1.2 Working with text files" /><published>2022-06-28T00:00:00-05:00</published><updated>2022-06-28T00:00:00-05:00</updated><id>https://vicky-crasto.github.io/Learn-Project-Language/readlines()/textfiles/nlp-chapter-1/2022/06/28/1-2-Working-with-text-files</id><content type="html" xml:base="https://vicky-crasto.github.io/Learn-Project-Language/readlines()/textfiles/nlp-chapter-1/2022/06/28/1-2-Working-with-text-files.html"><![CDATA[<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-06-28-1-2-Working-with-text-files.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Working-with-text-file-in-python">Working with text file in python<a class="anchor-link" href="#Working-with-text-file-in-python"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-a-text-file-in-python">Creating a text file in python<a class="anchor-link" href="#Creating-a-text-file-in-python"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>%%writefile test.txt ( Use this magic command before the text)</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Hello</span><span class="p">,</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">new</span> <span class="n">file</span> <span class="n">create</span> <span class="n">using</span> <span class="n">python</span> <span class="n">ide</span><span class="o">.</span>
<span class="n">This</span> <span class="n">the</span> <span class="n">second</span> <span class="n">line</span> <span class="n">of</span> <span class="n">the</span> <span class="n">file</span><span class="o">.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Writing test.txt
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Understanding-the-location-of-the-file">Understanding the location of the file<a class="anchor-link" href="#Understanding-the-location-of-the-file"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Give the location of the present working directory</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pwd</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;C:\\Users\\Vicky.Crasto\\OneDrive - Unilever\\Work_file_082021\\05_Other_learning\\NLP\\01_Udemy_JoseP&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Opening the file</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test.txt&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;_io.TextIOWrapper name=&#39;test.txt&#39; mode=&#39;r&#39; encoding=&#39;cp1252&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is the location in the memory which hold the file.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Using-.read()-and-.seek()">Using .read() and .seek()<a class="anchor-link" href="#Using-.read()-and-.seek()"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Hello, this is a new file create using python ide.\nThis the second line of the file.\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The second time the function it called it does not give any output since the cursor has reached the end of the document. There is nothing more read. Hence we need to reset the cursor to the start.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Resetting the cursor</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Hello, this is a new file create using python ide.\nThis the second line of the file.\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Using-.readlines()">Using .readlines()<a class="anchor-link" href="#Using-.readlines()"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>readlines() help to read the file line by line. Note: All the data is helded in the memory, hence large files will need to handled carefully.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Hello, this is a new file create using python ide.\n&#39;,
 &#39;This the second line of the file.\n&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Writing-a-file---Understanding-the-mode">Writing a file - Understanding the mode<a class="anchor-link" href="#Writing-a-file---Understanding-the-mode"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>While opening the file, we can open it with different modes</p>
<ul>
<li>'r' default to read the file</li>
<li>'w+' read and write the file.(Overwrites the existing file)</li>
<li>'wb+' read and write as binary (used in case of pdf)</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test.txt&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span> <span class="s1">&#39;w+&#39;</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;This is an additional file&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>26</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;This is an additional file&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hence the existing data is deleted and the new data is overwrite.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Appending-a-file">Appending a file<a class="anchor-link" href="#Appending-a-file"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Passing the argument <code>'a'</code> opens the file and puts the pointer at the end, so anything written is appended.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;a+&#39;</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Appending a new line to the existing line&quot;</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>This is an additional file
Appending a new line to the existing line
Appending a new line to the existing line
Appending a new line to the existing line
Appending a new line to the existing line
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Aliases-and-context-managers">Aliases and context managers<a class="anchor-link" href="#Aliases-and-context-managers"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can assign temporary variable names as aliases, and manage the opening and closing of files automatically using a context manager:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">txt</span><span class="p">:</span>
    <span class="n">first_line</span> <span class="o">=</span> <span class="n">txt</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_line</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>This is an additional file

</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By using this method, the file is opened, read and closed by context mananger automatically after doing the specified operation.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">first_line</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;This is an additional file\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">txt</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">C:\Users\VICKY~1.CRA\AppData\Local\Temp/ipykernel_9856/1416744708.py</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 1</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>txt<span class="ansi-yellow-intense-fg ansi-bold">.</span>read<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-red-intense-fg ansi-bold">ValueError</span>: I/O operation on closed file.</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hence the extract line remain in the object but the file is closed by the context manager.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Iterating-through-a-file">Iterating through a file<a class="anchor-link" href="#Iterating-through-a-file"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">txt</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">txt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span> <span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;$$$$&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>This is an additional file
$$$$Appending a new line to the existing line
$$$$Appending a new line to the existing line
$$$$Appending a new line to the existing line
$$$$Appending a new line to the existing line$$$$</pre>
</div>
</div>

</div>
</div>

</div>
    

</div>]]></content><author><name></name></author><category term="readlines()" /><category term="textfiles" /><category term="NLP-Chapter-1" /><summary type="html"><![CDATA[The post explains how to create and work with text files in python.]]></summary></entry><entry><title type="html">Coe_policing_equity</title><link href="https://vicky-crasto.github.io/Learn-Project-Language/2022/06/26/COE_policing_equity.html" rel="alternate" type="text/html" title="Coe_policing_equity" /><published>2022-06-26T00:00:00-05:00</published><updated>2022-06-26T00:00:00-05:00</updated><id>https://vicky-crasto.github.io/Learn-Project-Language/2022/06/26/COE_policing_equity</id><content type="html" xml:base="https://vicky-crasto.github.io/Learn-Project-Language/2022/06/26/COE_policing_equity.html"><![CDATA[<h3 id="libraries-needed">Libraries needed</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Warning: package 'tidyverse' was built under R version 4.1.3

## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --

## v ggplot2 3.3.5     v purrr   0.3.4
## v tibble  3.1.5     v dplyr   1.0.7
## v tidyr   1.1.4     v stringr 1.4.0
## v readr   2.1.2     v forcats 0.5.1

## Warning: package 'readr' was built under R version 4.1.3

## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">lubridate</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## 
## Attaching package: 'lubridate'

## The following objects are masked from 'package:base':
## 
##     date, intersect, setdiff, union
</code></pre></div></div>

<h3 id="reading-the-data">Reading the data</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"37-00049_UOF-P_2016_prepped.csv"</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">coe_df</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##   INCIDENT_DATE INCIDENT_TIME    UOF_NUMBER OFFICER_ID OFFICER_GENDER
## 1    OCCURRED_D    OCCURRED_T        UOFNum CURRENT_BA         OffSex
## 2        9/3/16    4:14:00 AM         37702      10810           Male
## 3       3/22/16   11:00:00 PM         33413       7706           Male
## 4       5/22/16    1:29:00 PM         34567      11014           Male
## 5       1/10/16    8:55:00 PM         31460       6692           Male
## 6       11/8/16    2:30:00 AM  37879, 37898       9844           Male
##   OFFICER_RACE OFFICER_HIRE_DATE OFFICER_YEARS_ON_FORCE OFFICER_INJURY
## 1      OffRace           HIRE_DT    INCIDENT_DATE_LESS_     OFF_INJURE
## 2        Black            5/7/14                      2             No
## 3        White            1/8/99                     17            Yes
## 4        Black           5/20/15                      1             No
## 5        Black           7/29/91                     24             No
## 6        White           10/4/09                      7             No
##            OFFICER_INJURY_TYPE OFFICER_HOSPITALIZATION SUBJECT_ID SUBJECT_RACE
## 1              OFF_INJURE_DESC              OFF_HOSPIT     CitNum      CitRace
## 2 No injuries noted or visible                      No      46424        Black
## 3                Sprain/Strain                     Yes      44324     Hispanic
## 4 No injuries noted or visible                      No      45126     Hispanic
## 5 No injuries noted or visible                      No      43150     Hispanic
## 6 No injuries noted or visible                      No      47307        Black
##   SUBJECT_GENDER SUBJECT_INJURY          SUBJECT_INJURY_TYPE
## 1         CitSex     CIT_INJURE             SUBJ_INJURE_DESC
## 2         Female            Yes      Non-Visible Injury/Pain
## 3           Male             No No injuries noted or visible
## 4           Male             No No injuries noted or visible
## 5           Male            Yes               Laceration/Cut
## 6           Male             No No injuries noted or visible
##   SUBJECT_WAS_ARRESTED SUBJECT_DESCRIPTION          SUBJECT_OFFENSE
## 1           CIT_ARREST          CIT_INFL_A               CitChargeT
## 2                  Yes   Mentally unstable                    APOWW
## 3                  Yes   Mentally unstable                    APOWW
## 4                  Yes             Unknown                    APOWW
## 5                  Yes FD-Unknown if Armed           Evading Arrest
## 6                  Yes             Unknown Other Misdemeanor Arrest
##   REPORTING_AREA BEAT SECTOR      DIVISION LOCATION_DISTRICT STREET_NUMBER
## 1             RA BEAT SECTOR      DIVISION         DIST_NAME      STREET_N
## 2           2062  134    130       CENTRAL               D14           211
## 3           1197  237    230     NORTHEAST                D9          7647
## 4           4153  432    430     SOUTHWEST                D6           716
## 5           4523  641    640 NORTH CENTRAL               D11          5600
## 6           2167  346    340     SOUTHEAST                D7          4600
##    STREET_NAME STREET_DIRECTION STREET_TYPE
## 1       STREET         street_g    street_t
## 2        Ervay                N         St.
## 3     Ferguson             NULL         Rd.
## 4 bimebella dr             NULL         Ln.
## 5          LBJ             NULL       Frwy.
## 6    Malcolm X                S       Blvd.
##   LOCATION_FULL_STREET_ADDRESS_OR_INTERSECTION LOCATION_CITY LOCATION_STATE
## 1                               Street Address          City          State
## 2                               211 N ERVAY ST        Dallas             TX
## 3                             7647 FERGUSON RD        Dallas             TX
## 4                             716 BIMEBELLA LN        Dallas             TX
## 5                               5600 L B J FWY        Dallas             TX
## 6                        4600 S MALCOLM X BLVD        Dallas             TX
##   LOCATION_LATITUDE LOCATION_LONGITUDE INCIDENT_REASON REASON_FOR_FORCE
## 1          Latitude          Longitude      SERVICE_TY       UOF_REASON
## 2         32.782205         -96.797461          Arrest           Arrest
## 3         32.798978         -96.717493          Arrest           Arrest
## 4          32.73971          -96.92519          Arrest           Arrest
## 5                                               Arrest           Arrest
## 6                                               Arrest           Arrest
##     TYPE_OF_FORCE_USED1 TYPE_OF_FORCE_USED2 TYPE_OF_FORCE_USED3
## 1            ForceType1          ForceType2          ForceType3
## 2 Hand/Arm/Elbow Strike                                        
## 3           Joint Locks                                        
## 4     Take Down - Group                                        
## 5        K-9 Deployment                                        
## 6        Verbal Command     Take Down - Arm                    
##   TYPE_OF_FORCE_USED4 TYPE_OF_FORCE_USED5 TYPE_OF_FORCE_USED6
## 1          ForceType4          ForceType5          ForceType6
## 2                                                            
## 3                                                            
## 4                                                            
## 5                                                            
## 6                                                            
##   TYPE_OF_FORCE_USED7 TYPE_OF_FORCE_USED8 TYPE_OF_FORCE_USED9
## 1          ForceType7          ForceType8          ForceType9
## 2                                                            
## 3                                                            
## 4                                                            
## 5                                                            
## 6                                                            
##   TYPE_OF_FORCE_USED10 NUMBER_EC_CYCLES FORCE_EFFECTIVE
## 1          ForceType10       Cycles_Num      ForceEffec
## 2                                  NULL             Yes
## 3                                  NULL             Yes
## 4                                  NULL             Yes
## 5                                  NULL             Yes
## 6                                  NULL         No, Yes
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">### Removing the first row</span><span class="w">

</span><span class="n">coe_df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">coe_df</span><span class="p">[</span><span class="m">-1</span><span class="p">,]</span><span class="w">
</span></code></pre></div></div>

<p>###Changing the format of variables</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="o">$</span><span class="n">INCIDENT_DATE</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="n">coe_df</span><span class="o">$</span><span class="n">INCIDENT_DATE</span><span class="p">,</span><span class="w"> </span><span class="s2">"%m/%d/%y"</span><span class="p">)</span><span class="w">
</span><span class="n">coe_df</span><span class="o">$</span><span class="n">INCIDENT_TIME</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">parse_date_time</span><span class="p">(</span><span class="n">coe_df</span><span class="o">$</span><span class="n">INCIDENT_TIME</span><span class="p">,</span><span class="w">  </span><span class="s2">"%I:%M:%S %p"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Warning: 10 failed to parse.
</code></pre></div></div>

<h4 id="creating-two-additional-variables">Creating two additional variables.</h4>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">### Creating month varible</span><span class="w">
</span><span class="n">coe_df</span><span class="o">$</span><span class="n">month</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">month</span><span class="p">(</span><span class="n">coe_df</span><span class="o">$</span><span class="n">INCIDENT_DATE</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">,</span><span class="w"> </span><span class="n">abbr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">

</span><span class="c1">### Creating time of day variable</span><span class="w">
</span><span class="n">coe_df</span><span class="o">$</span><span class="n">timeofday</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cut</span><span class="p">(</span><span class="n">hour</span><span class="p">(</span><span class="n">coe_df</span><span class="o">$</span><span class="n">INCIDENT_TIME</span><span class="p">),</span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="o">-</span><span class="kc">Inf</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">12</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">9</span><span class="p">,</span><span class="m">23</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Night"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Morning"</span><span class="p">,</span><span class="s2">"Afternoon"</span><span class="p">,</span><span class="s2">"Evening"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Night"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<h3 id="1-have-the-number-of-policing-incidents-remained-constant-through-the-year">1. Have the number of policing incidents remained constant through the year?</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">month</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbyyear</span><span class="w">


</span><span class="n">plot1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbyyear</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">month</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">,</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"steelblue"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents by month"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Months"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot1</span><span class="w">   
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-5-1.png" alt="" /></p>

<p>We see that number of policing incidents have been decreasing over the
year.</p>

<h3 id="2-at-what-time-of-the-day-are-the-incident-most-frequent">2. At what time of the day are the incident most frequent?</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">timeofday</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbytimeofday</span><span class="w">


</span><span class="n">plot2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbytimeofday</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">timeofday</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">,</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"steelblue"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents by Time of day"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Time of day"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot2</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-6-1.png" alt="" /></p>

<p>We see that majority of the incidents occur at night, that is between 9
PM to 6 AM in the morning.</p>

<h3 id="3-does-the-distribution-of-the-policing-incidents-and-the-gender-and-race-of-the-officer-have-any-relation">3. Does the distribution of the policing incidents and the gender and race of the officer have any relation.</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">OFFICER_GENDER</span><span class="p">,</span><span class="w"> </span><span class="n">OFFICER_RACE</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbyofficer</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'OFFICER_GENDER'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbyofficer</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OFFICER_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OFFICER_GENDER</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents by Race of the officer"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the officer"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot3</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-7-1.png" alt="" /></p>

<p>We see that most of the officers involved in the reported incidence are
White. Also we find that male officer are in majority compared to female
officers. We also have Hispanic and Black officer with a significant
number of reported incidences.</p>

<h3 id="4-does-the-gender-of-the-officer-and-the-time-of-day-occurence-have-any-relation">4. Does the gender of the officer and the time of day occurence have any relation.</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">timeofday</span><span class="o">!=</span><span class="s2">"NA"</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">OFFICER_GENDER</span><span class="p">,</span><span class="w"> </span><span class="n">timeofday</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbyoffday</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'OFFICER_GENDER'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbyoffday</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">timeofday</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OFFICER_GENDER</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents by Time of day"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Time of day"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot4</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-8-1.png" alt="" /></p>

<p>We see that both the gender the reported incidents are majorly in the
night.</p>

<h3 id="5-does-the-race-of-the-officer-has-any-relationship-of-getting-injuried-during-the-policing-incident">5. Does the Race of the officer has any relationship of getting injuried during the policing incident</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">timeofday</span><span class="o">!=</span><span class="s2">"NA"</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">OFFICER_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">OFFICER_INJURY</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbyinjury</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'OFFICER_RACE'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot5</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbyinjury</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OFFICER_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OFFICER_INJURY</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Injury to officer and their Race"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the officer"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot5</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-9-1.png" alt="" /></p>

<p>We see that majorly officers and not been injured in the incident. Among
those who were injuried we see that most of them are White.</p>

<p>Also a small percentage of Hispanic and Black has been reported to have
injuried.</p>

<h3 id="6-does-the-race-of-subject-and-the-time-of-day-of-the-incident-has-any-relationship">6. Does the race of subject and the time of day of the incident has any relationship.</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">timeofday</span><span class="o">!=</span><span class="s2">"NA"</span><span class="p">,</span><span class="n">SUBJECT_RACE</span><span class="o">!=</span><span class="s2">"NULL"</span><span class="w"> </span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">timeofday</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="n">filter</span><span class="p">(</span><span class="n">incident_count</span><span class="o">&gt;</span><span class="m">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbysubday</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot6</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbysubday</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">timeofday</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the subject and time of day"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of subject"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="w">

</span><span class="n">plot6</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-10-1.png" alt="" /></p>

<p>We see that Black subject are mostly in incidences reported in the night
or in the evening. There are some case reported the afternoon, but very
few in the morning.</p>

<p>Both White and Hispanic are active majorly in the night or evening.</p>

<p>But Hispanic are also active in the morning but White are active in the
afternoon.</p>

<h3 id="7-does-the-race-of-subject-and-the-division-of-the-reported-incident-has-any-relationship">7. Does the race of subject and the division of the reported incident has any relationship.</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="o">!=</span><span class="s2">"NULL"</span><span class="w"> </span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">DIVISION</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="n">filter</span><span class="p">(</span><span class="n">incident_count</span><span class="o">&gt;</span><span class="m">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbydivision</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot7</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbydivision</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DIVISION</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SUBJECT_RACE</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the subject and Division"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Division"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="w">

</span><span class="n">plot7</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-11-1.png" alt="" /></p>

<p>In the South East, South Central, North East and Central division
majority of the incidents have Black subjects.</p>

<p>In South West, majority of the incidents involve Hispanic and Blacks.</p>

<p>In South Central is mostly black subjects. However in North Central and
Central there are a significant number of white subjects.</p>

<h3 id="8-does-the-race-of-subject-and-the-arrest-has-any-relationship">8. Does the race of subject and the arrest has any relationship</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="o">!=</span><span class="s2">"NULL"</span><span class="w"> </span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">SUBJECT_WAS_ARRESTED</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="n">filter</span><span class="p">(</span><span class="n">incident_count</span><span class="o">&gt;</span><span class="m">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbyarrest</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot8</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbyarrest</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SUBJECT_WAS_ARRESTED</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the subject and Arrest Status"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the subject"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot8</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-12-1.png" alt="" /></p>

<p>We see that most the subject irrespective of the race have been
arrested.</p>

<h3 id="9-does-the-race-of-officer-and-the-race-of-the-subject-has-any-evident-relationship">9. Does the race of officer and the race of the subject has any evident relationship.</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="o">!=</span><span class="s2">"NULL"</span><span class="p">,</span><span class="w"> </span><span class="n">OFFICER_RACE</span><span class="o">!=</span><span class="s2">"NULL"</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">OFFICER_RACE</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="n">filter</span><span class="p">(</span><span class="n">incident_count</span><span class="o">&gt;</span><span class="m">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbyrace</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot9</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbyrace</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OFFICER_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SUBJECT_RACE</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of subject vs Race of officer"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the Officer"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot9</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-13-1.png" alt="" /></p>

<p>Irrespective of the race of the officer, most of the incidents involve
black subject followed by Hispanic and White.</p>

<h3 id="10-does-the-race-of-subject-and-the-uof-has-any-relationship">10. Does the race of subject and the UOF has any relationship.</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coe_df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="o">!=</span><span class="s2">"NULL"</span><span class="p">,</span><span class="w"> </span><span class="n">OFFICER_RACE</span><span class="o">!=</span><span class="s2">"NULL"</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">REASON_FOR_FORCE</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">incident_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="n">filter</span><span class="p">(</span><span class="n">incident_count</span><span class="o">&gt;</span><span class="m">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">incidentsbyUOF</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the
## `.groups` argument.
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot10</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">incidentsbyUOF</span><span class="p">,</span><span class="w">
                </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SUBJECT_RACE</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">incident_count</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">REASON_FOR_FORCE</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of subject and reason for use of force"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Race of the Subject"</span><span class="p">,</span><span class="w"> 
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of incidents"</span><span class="p">)</span><span class="w">

</span><span class="n">plot10</span><span class="w">
</span></code></pre></div></div>

<p><img src="RCode_V2_files/figure-markdown_github/unnamed-chunk-14-1.png" alt="" /></p>

<p>We see that across race of the subject, the chief reason for the use of
force is Arrest, Active Aggression and Danger to self or others.</p>

<h3 id="observations">Observations</h3>

<ul>
  <li>
    <p>We see that the number of of policing incidents have been steadily
decreasing over the year. They reached a peak in March and they went
on decreasing to a reach a minimum in December.</p>
  </li>
  <li>
    <p>On looking at the time of reported incidents we see that most of
them are reported in the night that is from 9.00 PM to 6.00 AM in
the morning.</p>
  </li>
  <li>
    <p>From the distribution of the incidents with respect to gender and
race of the officer we see that most of the male officer are in
majority.</p>
  </li>
  <li>
    <p>Irrespective of the gender, White officer has most of the incident
reported followed by Hispanic and Black officers.</p>
  </li>
  <li>
    <p>Across gender, most of the incidents have been reported at night.</p>
  </li>
  <li>
    <p>Looking at the injured officers, we see that in most of the
incidents the officers are not injured. However, among the injured
officers, White officer have been injured the most.</p>
  </li>
  <li>
    <p>Looking at the distribution of incidents with regard to the race of
the subject and the time of day, we see that Black subjects are
mostly in incidences reported in the night or in the evening. There
are some case reported the afternoon, but very few in the morning.
Both White and Hispanic are active majorly in the night or evening.
But Hispanic are also active in the morning but White are active in
the afternoon.</p>
  </li>
  <li>
    <p>On analyzing the incidents by Division and race of the subject, we
find that in the Southeast, South Central, North East and Central
division majority of the incidents have Black subjects. In South
West, majority of the incidents involve Hispanic and Blacks. In
South Central is mostly black subjects. However in North Central and
Central there are a significant number of white subjects.</p>
  </li>
  <li>
    <p>Also in the reported incidents, the subjects have been majorly
arrested irrespective of the the race. Also irrespective of the race
of the officer, the subjects involved in the incident are black.</p>
  </li>
  <li>
    <p>Looking at the reason for the use of force we find that Arrest,
Active Aggression and Danger to self or others are majorly citied
reasons across the race of the subjects.</p>
  </li>
</ul>]]></content><author><name></name></author><summary type="html"><![CDATA[Libraries needed library(tidyverse) ## Warning: package 'tidyverse' was built under R version 4.1.3 ## -- Attaching packages --------------------------------------- tidyverse 1.3.1 -- ## v ggplot2 3.3.5 v purrr 0.3.4 ## v tibble 3.1.5 v dplyr 1.0.7 ## v tidyr 1.1.4 v stringr 1.4.0 ## v readr 2.1.2 v forcats 0.5.1 ## Warning: package 'readr' was built under R version 4.1.3 ## -- Conflicts ------------------------------------------ tidyverse_conflicts() -- ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() library(lubridate) ## ## Attaching package: 'lubridate' ## The following objects are masked from 'package:base': ## ## date, intersect, setdiff, union Reading the data coe_df &lt;- read.csv("37-00049_UOF-P_2016_prepped.csv", header = T, stringsAsFactors = F) head(coe_df) ## INCIDENT_DATE INCIDENT_TIME UOF_NUMBER OFFICER_ID OFFICER_GENDER ## 1 OCCURRED_D OCCURRED_T UOFNum CURRENT_BA OffSex ## 2 9/3/16 4:14:00 AM 37702 10810 Male ## 3 3/22/16 11:00:00 PM 33413 7706 Male ## 4 5/22/16 1:29:00 PM 34567 11014 Male ## 5 1/10/16 8:55:00 PM 31460 6692 Male ## 6 11/8/16 2:30:00 AM 37879, 37898 9844 Male ## OFFICER_RACE OFFICER_HIRE_DATE OFFICER_YEARS_ON_FORCE OFFICER_INJURY ## 1 OffRace HIRE_DT INCIDENT_DATE_LESS_ OFF_INJURE ## 2 Black 5/7/14 2 No ## 3 White 1/8/99 17 Yes ## 4 Black 5/20/15 1 No ## 5 Black 7/29/91 24 No ## 6 White 10/4/09 7 No ## OFFICER_INJURY_TYPE OFFICER_HOSPITALIZATION SUBJECT_ID SUBJECT_RACE ## 1 OFF_INJURE_DESC OFF_HOSPIT CitNum CitRace ## 2 No injuries noted or visible No 46424 Black ## 3 Sprain/Strain Yes 44324 Hispanic ## 4 No injuries noted or visible No 45126 Hispanic ## 5 No injuries noted or visible No 43150 Hispanic ## 6 No injuries noted or visible No 47307 Black ## SUBJECT_GENDER SUBJECT_INJURY SUBJECT_INJURY_TYPE ## 1 CitSex CIT_INJURE SUBJ_INJURE_DESC ## 2 Female Yes Non-Visible Injury/Pain ## 3 Male No No injuries noted or visible ## 4 Male No No injuries noted or visible ## 5 Male Yes Laceration/Cut ## 6 Male No No injuries noted or visible ## SUBJECT_WAS_ARRESTED SUBJECT_DESCRIPTION SUBJECT_OFFENSE ## 1 CIT_ARREST CIT_INFL_A CitChargeT ## 2 Yes Mentally unstable APOWW ## 3 Yes Mentally unstable APOWW ## 4 Yes Unknown APOWW ## 5 Yes FD-Unknown if Armed Evading Arrest ## 6 Yes Unknown Other Misdemeanor Arrest ## REPORTING_AREA BEAT SECTOR DIVISION LOCATION_DISTRICT STREET_NUMBER ## 1 RA BEAT SECTOR DIVISION DIST_NAME STREET_N ## 2 2062 134 130 CENTRAL D14 211 ## 3 1197 237 230 NORTHEAST D9 7647 ## 4 4153 432 430 SOUTHWEST D6 716 ## 5 4523 641 640 NORTH CENTRAL D11 5600 ## 6 2167 346 340 SOUTHEAST D7 4600 ## STREET_NAME STREET_DIRECTION STREET_TYPE ## 1 STREET street_g street_t ## 2 Ervay N St. ## 3 Ferguson NULL Rd. ## 4 bimebella dr NULL Ln. ## 5 LBJ NULL Frwy. ## 6 Malcolm X S Blvd. ## LOCATION_FULL_STREET_ADDRESS_OR_INTERSECTION LOCATION_CITY LOCATION_STATE ## 1 Street Address City State ## 2 211 N ERVAY ST Dallas TX ## 3 7647 FERGUSON RD Dallas TX ## 4 716 BIMEBELLA LN Dallas TX ## 5 5600 L B J FWY Dallas TX ## 6 4600 S MALCOLM X BLVD Dallas TX ## LOCATION_LATITUDE LOCATION_LONGITUDE INCIDENT_REASON REASON_FOR_FORCE ## 1 Latitude Longitude SERVICE_TY UOF_REASON ## 2 32.782205 -96.797461 Arrest Arrest ## 3 32.798978 -96.717493 Arrest Arrest ## 4 32.73971 -96.92519 Arrest Arrest ## 5 Arrest Arrest ## 6 Arrest Arrest ## TYPE_OF_FORCE_USED1 TYPE_OF_FORCE_USED2 TYPE_OF_FORCE_USED3 ## 1 ForceType1 ForceType2 ForceType3 ## 2 Hand/Arm/Elbow Strike ## 3 Joint Locks ## 4 Take Down - Group ## 5 K-9 Deployment ## 6 Verbal Command Take Down - Arm ## TYPE_OF_FORCE_USED4 TYPE_OF_FORCE_USED5 TYPE_OF_FORCE_USED6 ## 1 ForceType4 ForceType5 ForceType6 ## 2 ## 3 ## 4 ## 5 ## 6 ## TYPE_OF_FORCE_USED7 TYPE_OF_FORCE_USED8 TYPE_OF_FORCE_USED9 ## 1 ForceType7 ForceType8 ForceType9 ## 2 ## 3 ## 4 ## 5 ## 6 ## TYPE_OF_FORCE_USED10 NUMBER_EC_CYCLES FORCE_EFFECTIVE ## 1 ForceType10 Cycles_Num ForceEffec ## 2 NULL Yes ## 3 NULL Yes ## 4 NULL Yes ## 5 NULL Yes ## 6 NULL No, Yes ### Removing the first row coe_df &lt;- coe_df[-1,] ###Changing the format of variables coe_df$INCIDENT_DATE &lt;- as.Date(coe_df$INCIDENT_DATE, "%m/%d/%y") coe_df$INCIDENT_TIME &lt;- parse_date_time(coe_df$INCIDENT_TIME, "%I:%M:%S %p") ## Warning: 10 failed to parse. Creating two additional variables. ### Creating month varible coe_df$month &lt;- month(coe_df$INCIDENT_DATE, label = T, abbr = T) ### Creating time of day variable coe_df$timeofday &lt;- cut(hour(coe_df$INCIDENT_TIME),breaks = c(-Inf,6,12,4,9,23), labels = c("Night", "Morning","Afternoon","Evening", "Night")) 1. Have the number of policing incidents remained constant through the year? coe_df %&gt;% group_by(month)%&gt;% summarise(incident_count = n())-&gt; incidentsbyyear plot1 &lt;- ggplot(data = incidentsbyyear, aes(x = month, y= incident_count)) + geom_bar(stat = "identity",fill = "steelblue") + labs(title= "Number of incidents by month", x = "Months", y = "Number of incidents") plot1 We see that number of policing incidents have been decreasing over the year. 2. At what time of the day are the incident most frequent? coe_df %&gt;% group_by(timeofday)%&gt;% summarise(incident_count = n())-&gt; incidentsbytimeofday plot2 &lt;- ggplot(data = incidentsbytimeofday, aes(x = timeofday, y= incident_count)) + geom_bar(stat = "identity",fill = "steelblue") + labs(title= "Number of incidents by Time of day", x = "Time of day", y = "Number of incidents") plot2 We see that majority of the incidents occur at night, that is between 9 PM to 6 AM in the morning. 3. Does the distribution of the policing incidents and the gender and race of the officer have any relation. coe_df %&gt;% group_by(OFFICER_GENDER, OFFICER_RACE)%&gt;% summarise(incident_count = n())-&gt; incidentsbyofficer ## `summarise()` has grouped output by 'OFFICER_GENDER'. You can override using the ## `.groups` argument. plot3 &lt;- ggplot(data = incidentsbyofficer, aes(x = OFFICER_RACE, y= incident_count, fill = OFFICER_GENDER )) + geom_bar(stat = "identity") + labs(title= "Number of incidents by Race of the officer", x = "Race of the officer", y = "Number of incidents") plot3 We see that most of the officers involved in the reported incidence are White. Also we find that male officer are in majority compared to female officers. We also have Hispanic and Black officer with a significant number of reported incidences. 4. Does the gender of the officer and the time of day occurence have any relation. coe_df %&gt;% filter(timeofday!="NA")%&gt;% group_by(OFFICER_GENDER, timeofday)%&gt;% summarise(incident_count = n())-&gt; incidentsbyoffday ## `summarise()` has grouped output by 'OFFICER_GENDER'. You can override using the ## `.groups` argument. plot4 &lt;- ggplot(data = incidentsbyoffday, aes(x = timeofday, y= incident_count, fill = OFFICER_GENDER )) + geom_bar(stat = "identity") + labs(title= "Number of incidents by Time of day", x = "Time of day", y = "Number of incidents") plot4 We see that both the gender the reported incidents are majorly in the night. 5. Does the Race of the officer has any relationship of getting injuried during the policing incident coe_df %&gt;% filter(timeofday!="NA")%&gt;% group_by(OFFICER_RACE, OFFICER_INJURY)%&gt;% summarise(incident_count = n())-&gt; incidentsbyinjury ## `summarise()` has grouped output by 'OFFICER_RACE'. You can override using the ## `.groups` argument. plot5 &lt;- ggplot(data = incidentsbyinjury, aes(x = OFFICER_RACE, y= incident_count, fill = OFFICER_INJURY )) + geom_bar(stat = "identity") + labs(title= "Injury to officer and their Race", x = "Race of the officer", y = "Number of incidents") plot5 We see that majorly officers and not been injured in the incident. Among those who were injuried we see that most of them are White. Also a small percentage of Hispanic and Black has been reported to have injuried. 6. Does the race of subject and the time of day of the incident has any relationship. coe_df %&gt;% filter(timeofday!="NA",SUBJECT_RACE!="NULL" )%&gt;% group_by(SUBJECT_RACE, timeofday)%&gt;% summarise(incident_count = n())%&gt;%filter(incident_count&gt;20)-&gt; incidentsbysubday ## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the ## `.groups` argument. plot6 &lt;- ggplot(data = incidentsbysubday, aes(x = SUBJECT_RACE, y= incident_count, fill = timeofday )) + geom_bar(stat = "identity") + labs(title= "Race of the subject and time of day", x = "Race of subject", y = "Number of incidents")+ coord_flip() plot6 We see that Black subject are mostly in incidences reported in the night or in the evening. There are some case reported the afternoon, but very few in the morning. Both White and Hispanic are active majorly in the night or evening. But Hispanic are also active in the morning but White are active in the afternoon. 7. Does the race of subject and the division of the reported incident has any relationship. coe_df %&gt;% filter(SUBJECT_RACE!="NULL" )%&gt;% group_by(SUBJECT_RACE, DIVISION)%&gt;% summarise(incident_count = n())%&gt;%filter(incident_count&gt;20)-&gt; incidentsbydivision ## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the ## `.groups` argument. plot7 &lt;- ggplot(data = incidentsbydivision, aes(x = DIVISION, y= incident_count, fill = SUBJECT_RACE )) + geom_bar(stat = "identity") + labs(title= "Race of the subject and Division", x = "Division", y = "Number of incidents")+ coord_flip() plot7 In the South East, South Central, North East and Central division majority of the incidents have Black subjects. In South West, majority of the incidents involve Hispanic and Blacks. In South Central is mostly black subjects. However in North Central and Central there are a significant number of white subjects. 8. Does the race of subject and the arrest has any relationship coe_df %&gt;% filter(SUBJECT_RACE!="NULL" )%&gt;% group_by(SUBJECT_RACE, SUBJECT_WAS_ARRESTED)%&gt;% summarise(incident_count = n())%&gt;%filter(incident_count&gt;10)-&gt; incidentsbyarrest ## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the ## `.groups` argument. plot8 &lt;- ggplot(data = incidentsbyarrest, aes(x = SUBJECT_RACE, y= incident_count, fill = SUBJECT_WAS_ARRESTED )) + geom_bar(stat = "identity") + labs(title= "Race of the subject and Arrest Status", x = "Race of the subject", y = "Number of incidents") plot8 We see that most the subject irrespective of the race have been arrested. 9. Does the race of officer and the race of the subject has any evident relationship. coe_df %&gt;% filter(SUBJECT_RACE!="NULL", OFFICER_RACE!="NULL")%&gt;% group_by(SUBJECT_RACE, OFFICER_RACE)%&gt;% summarise(incident_count = n())%&gt;%filter(incident_count&gt;10)-&gt; incidentsbyrace ## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the ## `.groups` argument. plot9 &lt;- ggplot(data = incidentsbyrace, aes(x = OFFICER_RACE, y= incident_count, fill = SUBJECT_RACE )) + geom_bar(stat = "identity") + labs(title= "Race of subject vs Race of officer", x = "Race of the Officer", y = "Number of incidents") plot9 Irrespective of the race of the officer, most of the incidents involve black subject followed by Hispanic and White. 10. Does the race of subject and the UOF has any relationship. coe_df %&gt;% filter(SUBJECT_RACE!="NULL", OFFICER_RACE!="NULL")%&gt;% group_by(SUBJECT_RACE, REASON_FOR_FORCE)%&gt;% summarise(incident_count = n())%&gt;%filter(incident_count&gt;10)-&gt; incidentsbyUOF ## `summarise()` has grouped output by 'SUBJECT_RACE'. You can override using the ## `.groups` argument. plot10 &lt;- ggplot(data = incidentsbyUOF, aes(x = SUBJECT_RACE, y= incident_count, fill = REASON_FOR_FORCE )) + geom_bar(stat = "identity") + labs(title= "Race of subject and reason for use of force", x = "Race of the Subject", y = "Number of incidents") plot10 We see that across race of the subject, the chief reason for the use of force is Arrest, Active Aggression and Danger to self or others. Observations We see that the number of of policing incidents have been steadily decreasing over the year. They reached a peak in March and they went on decreasing to a reach a minimum in December. On looking at the time of reported incidents we see that most of them are reported in the night that is from 9.00 PM to 6.00 AM in the morning. From the distribution of the incidents with respect to gender and race of the officer we see that most of the male officer are in majority. Irrespective of the gender, White officer has most of the incident reported followed by Hispanic and Black officers. Across gender, most of the incidents have been reported at night. Looking at the injured officers, we see that in most of the incidents the officers are not injured. However, among the injured officers, White officer have been injured the most. Looking at the distribution of incidents with regard to the race of the subject and the time of day, we see that Black subjects are mostly in incidences reported in the night or in the evening. There are some case reported the afternoon, but very few in the morning. Both White and Hispanic are active majorly in the night or evening. But Hispanic are also active in the morning but White are active in the afternoon. On analyzing the incidents by Division and race of the subject, we find that in the Southeast, South Central, North East and Central division majority of the incidents have Black subjects. In South West, majority of the incidents involve Hispanic and Blacks. In South Central is mostly black subjects. However in North Central and Central there are a significant number of white subjects. Also in the reported incidents, the subjects have been majorly arrested irrespective of the the race. Also irrespective of the race of the officer, the subjects involved in the incident are black. Looking at the reason for the use of force we find that Arrest, Active Aggression and Danger to self or others are majorly citied reasons across the race of the subjects.]]></summary></entry></feed>